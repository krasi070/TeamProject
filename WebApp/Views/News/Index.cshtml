@using WebApp.Models;
@{
    ViewBag.Title = "News Page";
}

@model List<News>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
</head>
<body class="striped-background">
    @{
        int cutLength = 94;
    }

    @for (int i = 0; i < Model.Count; i += 2)
    {
        <div class="new">
            <div class="news">
                <div class="news-heading">@Model[i].Title</div>
                <div class="news-date">
                    <i>
                        @string.Format("Posted on {0}.{1}.{2}",
                            Model[i].Date.Day.ToString().PadLeft(2, '0'),
                            Model[i].Date.Month.ToString().PadLeft(2, '0'),
                            Model[i].Date.Year)
                    </i>
                </div>
                <hr/>
                <div class="news-content">
                    @Model[i].Body.Substring(0, cutLength)...
                    @Html.ActionLink("Read more", "Details", new {id = Model[i].Id})
                </div>
            </div>
            @if (i + 1 < Model.Count)
            {
                <div class="news">
                    <div class="news-heading">@Model[i + 1].Title</div>
                    <div class="news-date">
                        <i>
                            @string.Format("Posted on {0}.{1}.{2}",
                                    Model[i + 1].Date.Day.ToString().PadLeft(2, '0'),
                                    Model[i + 1].Date.Month.ToString().PadLeft(2, '0'),
                                    Model[i + 1].Date.Year)
                    </i>
                </div>

                <hr />
                <div class="news-content">
                    @Model[i + 1].Body.Substring(0, cutLength)...
                    @Html.ActionLink("Read more", "Details", new { id = Model[i + 1].Id })
                </div>
            </div>
            }
        </div>
    }
</body>
</html>